(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{60:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return a})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var o=t(2),i=t(6),r=(t(0),t(94)),s={id:"results",title:"About Results",sidebar_label:"Results"},a={unversionedId:"concepts/results",id:"concepts/results",isDocsHomePage:!1,title:"About Results",description:"The output of the scans, regardless of the tool used to scan, is a scan result.  This will be an object with a flag of passed or failed and a list of messages.",source:"@site/docs/concepts/results.md",slug:"/concepts/results",permalink:"/sourcehawk-docs/docs/concepts/results",editUrl:"https://github.com/optum/sourcehawk-docs/edit/main/docs/concepts/results.md",version:"current",sidebar_label:"Results",sidebar:"docs",previous:{title:"About Enforcers",permalink:"/sourcehawk-docs/docs/concepts/enforcers"},next:{title:"File Protocol",permalink:"/sourcehawk-docs/docs/protocols/file/file-protocol"}},l=[{value:"Function URL",id:"function-url",children:[]},{value:"Example Result JSON",id:"example-result-json",children:[]},{value:"Example Plain Text",id:"example-plain-text",children:[]}],c={rightToc:l};function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"The output of the scans, regardless of the tool used to scan, is a scan result.  This will be an object with a flag of passed or failed and a list of messages."),Object(r.b)("p",null,"Each protocol will produce one to many enforcer results which get rolled up into a single scan result."),Object(r.b)("h2",{id:"function-url"},"Function URL"),Object(r.b)("p",null,"In the below examples ",Object(r.b)("inlineCode",{parentName:"p"},"<scan-function-url>")," and ",Object(r.b)("inlineCode",{parentName:"p"},"<validate-config-function-url>")," are the URLs in which the functions are exposed\non the OpenFaas platform.  "),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"For example:")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"https://sourcehawk-scan.openfaas-example.com")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"https://sourcehawk-validate-config.openfaas-example.com"))),Object(r.b)("h2",{id:"example-result-json"},"Example Result JSON"),Object(r.b)("p",null,"This is an example response from the scan serialized to json as run by"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),'curl -k -s -X POST -H "Accept: application/json" <scan-function-url>/org/repo | jq\n')),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "passed": false,\n  "errorCount": 9,\n  "warningCount": 7,\n  "messages": {\n    "Dockerfile": [\n      {\n        "severity": "ERROR",\n        "repositoryPath": "Dockerfile",\n        "message": "Dockerfile FROM is missing tag"\n      },\n      {\n        "severity": "ERROR",\n        "repositoryPath": "Dockerfile",\n        "message": "Dockerfile FROM is missing host prefix"\n      }\n    ],\n    ".gitignore": [\n      {\n        "severity": "WARNING",\n        "repositoryPath": ".gitignore",\n        "message": "File does not contain the line [build]"\n      }\n    ],\n    "tsconfig.json": [\n      {\n        "severity": "ERROR",\n        "repositoryPath": "tsconfig.json",\n        "message": "Execution of query [$.compilerOptions.sourceMap] yielded result [true] which is not equal to [false]"\n      },\n      {\n        "severity": "ERROR",\n        "repositoryPath": "tsconfig.json",\n        "message": "Execution of query [$.angularCompilerOptions.strictInjectionParameters] yielded result [true] which is not equal to [false]"\n      }\n    ],\n    "pom.xml": [\n      {\n        "severity": "ERROR",\n        "repositoryPath": "pom.xml",\n        "message": "Banned maven property [maven.test.skip = true] found"\n      },\n      {\n        "severity": "ERROR",\n        "repositoryPath": "pom.xml",\n        "message": "Execution of query [//project/artifactId/text()] yielded result [scan-failed] which is not equal to [scan-failed-miserably]"\n      },\n      {\n        "severity": "ERROR",\n        "repositoryPath": "pom.xml",\n        "message": "Execution of query [//project/name/text()] yielded result [Scan Failed] which is not equal to [Scan Fail]"\n      }\n    ],\n    "LICENSE.md": [\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "File does not contain the sub string [UnitedHealthGroup]"\n      },\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "File does not contain the line [Apache]"\n      },\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "File does not contain the line [Permission is hereby granted, free of charge, to any person] at line number [5]"\n      },\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "File does not contain line matching pattern [(.*)copy of this distribution(.*)]"\n      },\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "File does not contain line matching pattern [(.*)SELLABILITY(.*)] at line number [20]"\n      },\n      {\n        "severity": "WARNING",\n        "repositoryPath": "LICENSE.md",\n        "message": "The SHA-256 checksum of the file does not match"\n      }\n    ],\n    "config.properties": [\n      {\n        "severity": "ERROR",\n        "repositoryPath": "config.properties",\n        "message": "Property [key] is missing"\n      }\n    ],\n    "application.yml": [\n      {\n        "severity": "ERROR",\n        "repositoryPath": "application.yml",\n        "message": "Execution of query [$.application.name] yielded result [bad] which is not equal to [sourcehawk]"\n      }\n    ]\n  },\n  "formattedMessages": [\n    "[ERROR] Dockerfile :: Dockerfile FROM is missing tag",\n    "[ERROR] Dockerfile :: Dockerfile FROM is missing host prefix",\n    "[WARNING] LICENSE.md :: The SHA-256 checksum of the file does not match",\n    "[ERROR] tsconfig.json :: Execution of query [$.angularCompilerOptions.strictInjectionParameters] yielded result [true] which is not equal to [false]",\n    "[ERROR] pom.xml :: Execution of query [//project/name/text()] yielded result [Scan Failed] which is not equal to [Scan Fail]",\n    "[ERROR] application.yml :: Execution of query [$.application.name] yielded result [bad] which is not equal to [sourcehawk]",\n    "[ERROR] config.properties :: Property [key] is missing",\n    "[ERROR] pom.xml :: Banned maven property [maven.test.skip = true] found",\n    "[WARNING] LICENSE.md :: File does not contain line matching pattern [(.*)SELLABILITY(.*)] at line number [20]",\n    "[WARNING] LICENSE.md :: File does not contain the sub string [UnitedHealthGroup]",\n    "[WARNING] .gitignore :: File does not contain the line [build]",\n    "[WARNING] LICENSE.md :: File does not contain the line [Apache]",\n    "[WARNING] LICENSE.md :: File does not contain the line [Permission is hereby granted, free of charge, to any person] at line number [5]",\n    "[WARNING] LICENSE.md :: File does not contain line matching pattern [(.*)copy of this distribution(.*)]",\n    "[ERROR] tsconfig.json :: Execution of query [$.compilerOptions.sourceMap] yielded result [true] which is not equal to [false]",\n    "[ERROR] pom.xml :: Execution of query [//project/artifactId/text()] yielded result [scan-failed] which is not equal to [scan-failed-miserably]"\n  ]\n}\n')),Object(r.b)("h2",{id:"example-plain-text"},"Example Plain Text"),Object(r.b)("p",null,"This is an example response from the scan in plain text as run by:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),'curl -k -s -X POST -H "Accept: text/plain" <scan-function-url>/org/repo | jq\n')),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),"Scan resulted in failure. Error(s): 9, Warning(s): 7\n\n[ERROR] Dockerfile :: Dockerfile FROM is missing tag\n[ERROR] Dockerfile :: Dockerfile FROM is missing host prefix\n[WARN]  .gitignore :: File does not contain the line [build]\n[ERROR] tsconfig.json :: Execution of query [$.compilerOptions.sourceMap] yielded result [true] which is not equal to [false]\n[ERROR] tsconfig.json :: Execution of query [$.angularCompilerOptions.strictInjectionParameters] yielded result [true] which is not equal to [false]\n[ERROR] pom.xml :: Banned maven property [maven.test.skip = true] found\n[ERROR] pom.xml :: Execution of query [//project/artifactId/text()] yielded result [scan-failed] which is not equal to [scan-failed-miserably]\n[ERROR] pom.xml :: Execution of query [//project/name/text()] yielded result [Scan Failed] which is not equal to [Scan Fail]\n[WARN]  LICENSE.md :: File does not contain the sub string [UnitedHealthGroup]\n[WARN]  LICENSE.md :: File does not contain the line [Apache]\n[WARN]  LICENSE.md :: File does not contain the line [Permission is hereby granted, free of charge, to any person] at line number [5]\n[WARN]  LICENSE.md :: File does not contain line matching pattern [(.*)copy of this distribution(.*)]\n[WARN]  LICENSE.md :: File does not contain line matching pattern [(.*)SELLABILITY(.*)] at line number [20]\n[WARN]  LICENSE.md :: The SHA-256 checksum of the file does not match\n[ERROR] config.properties :: Property [key] is missing\n[ERROR] application.yml :: Execution of query [$.application.name] yielded result [bad] which is not equal to [sourcehawk]\n")))}u.isMDXComponent=!0},94:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return f}));var o=t(0),i=t.n(o);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=i.a.createContext({}),u=function(e){var n=i.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},p=function(e){var n=u(e.components);return i.a.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},d=i.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(t),d=o,f=p["".concat(s,".").concat(d)]||p[d]||m[d]||r;return t?i.a.createElement(f,a(a({ref:n},c),{},{components:t})):i.a.createElement(f,a({ref:n},c))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,s=new Array(r);s[0]=d;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var c=2;c<r;c++)s[c]=t[c];return i.a.createElement.apply(null,s)}return i.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);