(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{70:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return i})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var r=t(2),o=t(6),a=(t(0),t(94)),c={id:"general",title:"General",sidebar_label:"General"},i={unversionedId:"usage/general",id:"usage/general",isDocsHomePage:!1,title:"General",description:"To use Sourcehawk you must first create a sourcehawk.yml configuration file in your project root.",source:"@site/docs/usage/general.md",slug:"/usage/general",permalink:"/docs/usage/general",editUrl:"https://github.com/optum/sourcehawk-docs/edit/main/docs/usage/general.md",version:"current",sidebar_label:"General",sidebar:"docs",previous:{title:"Welcome To Sourcehawk",permalink:"/docs/sourcehawk"},next:{title:"Maven Plugin",permalink:"/docs/usage/maven"}},l=[{value:"sourcehawk.yml",id:"sourcehawkyml",children:[]},{value:"Remote Configurations",id:"remote-configurations",children:[{value:"Example",id:"example",children:[]}]}],s={rightToc:l};function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"To use Sourcehawk you must first create a ",Object(a.b)("inlineCode",{parentName:"p"},"sourcehawk.yml")," configuration file in your project root."),Object(a.b)("p",null,"Simply having the file will allow your project to be scanned, but since there is no configuration in the file, all scans will pass with flying colors."),Object(a.b)("h2",{id:"sourcehawkyml"},"sourcehawk.yml"),Object(a.b)("p",null,"The following will ensure that you have a ",Object(a.b)("inlineCode",{parentName:"p"},"pom.xml")," in the root of your project.  We will cover the types of ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/concepts/enforcers"}),"enforcers")," in another section, but this is a simple ",Object(a.b)("inlineCode",{parentName:"p"},"file exists")," enforcer."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),"file-protocols:\n  - name: Maven Pom\n    description: maven pom.xml is present\n    group: maven\n    tags:\n      - maven\n    repository-path: pom.xml\n")),Object(a.b)("h2",{id:"remote-configurations"},"Remote Configurations"),Object(a.b)("p",null,"Sourcehawk supports merging many different smaller files together to compose and recursively store files remote.  This can e extremely useful if you want to share and reuse your Sourcehawk rules without having to copy and paste them everywhere.  "),Object(a.b)("div",{className:"admonition admonition-info alert alert--info"},Object(a.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(a.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(a.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(a.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(a.b)("p",{parentName:"div"},"By using github raw links you can use specific tags of rules for even greater composition instead of just always using master or head."))),Object(a.b)("h3",{id:"example"},"Example"),Object(a.b)("p",null,"An example of this composition can be found in ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/optum/sourcehawk-parent/tree/main/.sourcehawk"}),"github"),"."),Object(a.b)("h4",{id:"sourcehawkyml-1"},"sourcehawk.yml"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),"config-locations:\n  # import tagged v1.0.0 version\n  - https://github.com/raw/optum/sourcehawk-parent/v1.0.0/.sourcehawk/lombok.yml\n  # import main branch of the rest\n  - https://github.com/raw/optum/sourcehawk-parent/main/.sourcehawk/maven-pom.yml\n  - https://github.com/raw/optum/sourcehawk-parent/main/.sourcehawk/maven-wrapper.yml\n")),Object(a.b)("p",null,"And the ",Object(a.b)("inlineCode",{parentName:"p"},"https://github.com/raw/optum/sourcehawk-parent/v1.0.0/.sourcehawk/lombok.yml")," file can contain the following rules for reuse across many or all of your projects."),Object(a.b)("h4",{id:"sourcehawklombokyml"},".sourcehawk/lombok.yml"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),'file-protocols:\n  - name: Lombok Config\n    description: Lombok Configured appropriately\n    group: lombok\n    tags:\n      - lombok\n      - config\n    repository-path: lombok.config\n    required: true\n    severity: WARNING\n    enforcers:\n      - enforcer: .common.StringPropertyEquals\n        property-name: config.stopBubbling\n        expected-property-value: true\n      - enforcer: .common.StringPropertyEquals\n        property-name: lombok.anyConstructor.addConstructorProperties\n        expected-property-value: true\n\n  - name: Maven Pom\n    description: maven pom.xml has correct configuration\n    group: maven\n    tags:\n      - maven\n    repository-path: pom.xml\n    enforcers:\n      - enforcer: .xml.XPathEquals\n        expectations:\n          "//project/name/text()": Sourcehawk\n      - enforcer: .xml.XPathEquals\n        expectations:\n          "//project/ciManagement/system/text()": jenkins\n')))}u.isMDXComponent=!0},94:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return f}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=o.a.createContext({}),u=function(e){var n=o.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=u(e.components);return o.a.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(t),b=r,f=p["".concat(c,".").concat(b)]||p[b]||m[b]||a;return t?o.a.createElement(f,i(i({ref:n},s),{},{components:t})):o.a.createElement(f,i({ref:n},s))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=b;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var s=2;s<a;s++)c[s]=t[s];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);